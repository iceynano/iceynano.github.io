(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{417:function(a,e,t){"use strict";t.r(e);var r=t(10),s=Object(r.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"_3-4-exception-异常"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-exception-异常"}},[a._v("#")]),a._v(" 3.4. Exception 异常")]),a._v(" "),e("p",[a._v("介绍 module/exception.py 中的异常。")]),a._v(" "),e("h2",{attrs:{id:"campaignend"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#campaignend"}},[a._v("#")]),a._v(" CampaignEnd")]),a._v(" "),e("p",[a._v("关卡战斗结束")]),a._v(" "),e("h3",{attrs:{id:"raise"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("BOSS Clear.")]),a._v(" BOSS 战斗结束。")]),a._v(" "),e("li",[e("code",[a._v("In stage.")]),a._v(" 战斗结束后退出至章节界面。")]),a._v(" "),e("li",[e("code",[a._v("Image is in stage")]),a._v(" 对章节界面执行海图识别。")]),a._v(" "),e("li",[e("code",[a._v("Withdraw")]),a._v(" 关卡撤退。")])]),a._v(" "),e("h3",{attrs:{id:"catch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("结束当前关卡出击。")])]),a._v(" "),e("h2",{attrs:{id:"mapdetectionerror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapdetectionerror"}},[a._v("#")]),a._v(" MapDetectionError")]),a._v(" "),e("p",[a._v("海域地图识别错误")]),a._v(" "),e("h3",{attrs:{id:"raise-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-2"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Vanish point and distant point too close")]),a._v(" 仅海图识别方法为 perspective 时，拟合得到的灭点和距点距离太近，拟合结果对于一点透视的计算无意义。通常是因为网格线太少，导致拟合出错，此时需要调整识别的参数。")]),a._v(" "),e("li",[e("code",[a._v("No data feed to load_homography, please input at least one.")]),a._v(" 仅海图识别方法为 homography 时，未输入任何初始化透视参数。")]),a._v(" "),e("li",[e("code",[a._v("Failed to find a free tile")]),a._v(" 仅海图识别方法为 homography 时，无法找到定位点。通常是因为识别的图像并不是海域地图的图像，或者地图地面的杂物较多影响识别。")]),a._v(" "),e("li",[e("code",[a._v("Camera outside map: offset=({x}, {y})")]),a._v(" 海图识别时，镜头（画面中心）在地图外。"),e("code",[a._v("(x, y)")]),a._v(" 是超出地图边界的距离。")])]),a._v(" "),e("h3",{attrs:{id:"catch-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-2"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("若信息为 "),e("code",[a._v("Camera outside map: offset=({x}, {y})")]),a._v("，将镜头重新对准至最近的海域网格内，并重新识别。")])]),a._v(" "),e("h2",{attrs:{id:"mapwalkerror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapwalkerror"}},[a._v("#")]),a._v(" MapWalkError")]),a._v(" "),e("p",[a._v("无法移动至目标点。目标点超出舰队的移动距离，或者通往目标点的道路被敌舰阻挡。")]),a._v(" "),e("h3",{attrs:{id:"raise-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-3"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("walk_out_of_step")]),a._v(" 在舰队移动时，在第一个消息框（INFO_BAR_1）出现 "),e("code",[a._v("移动")]),a._v(" 二字。")])]),a._v(" "),e("h3",{attrs:{id:"catch-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-3"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("捕捉到第一次 MapWalkError 时，尝试降低舰队步长（FLEET_STEP）至 1，也就是一格一格地移动。若降低舰队步长后仍然捕捉到 MapWalkError，通常是因为敌人信息丢失，舰队位置错误，镜头位置错误。直接设置舰队步长为 1，一般不能解决问题。")])]),a._v(" "),e("h2",{attrs:{id:"mapenemymoved"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapenemymoved"}},[a._v("#")]),a._v(" MapEnemyMoved")]),a._v(" "),e("p",[a._v("敌人已经移动，需要重新进行地图扫描。")]),a._v(" "),e("h3",{attrs:{id:"raise-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-4"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[a._v("计算移动回合，若当前回合后精英敌人会移动，对已移动敌人的进行扫描，并抛出。玩家舰队移动 2 次或 3 次后，精英敌人移动。具体是 2 次还是 3 次，根据敌人不同而不同，可以查看 expedition_data_template.lua 中的 ai_mov 属性。若使用 map_extractor.py 生成地图文件，将自动提取至 MOVABLE_ENEMY_TURN。")])]),a._v(" "),e("h3",{attrs:{id:"catch-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-4"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("捕捉后，重新执行当前 battle_function，上限 10 次。超出次数后，抛出 "),e("code",[a._v("ScriptError('No combat executed.')")])])]),a._v(" "),e("h2",{attrs:{id:"campaignnameerror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#campaignnameerror"}},[a._v("#")]),a._v(" CampaignNameError")]),a._v(" "),e("p",[a._v("无法识别关卡名称。")]),a._v(" "),e("h3",{attrs:{id:"raise-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-5"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Stage not found: {name}")]),a._v("  无法在当前界面找到所请求的关卡名称。")]),a._v(" "),e("li",[a._v("无法在当前界面找到所请求的章节序号。")])]),a._v(" "),e("h3",{attrs:{id:"catch-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-5"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("捕捉后重新识别，上限 20 次。超出次数后，抛出 "),e("code",[a._v("ScriptEnd('Campaign name error')")])])]),a._v(" "),e("h2",{attrs:{id:"scripterror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scripterror"}},[a._v("#")]),a._v(" ScriptError")]),a._v(" "),e("p",[a._v("发生脚本内部错误，且无法处理。若开启 ENABLE_EXCEPTION，撤退，不抛出异常。")]),a._v(" "),e("h3",{attrs:{id:"raise-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-6"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("No combat executed.")]),a._v(" 未攻击敌人。当前 battle_function 执行后未攻击任何一个敌人。")]),a._v(" "),e("li",[e("code",[a._v("Battle function exhausted.")]),a._v(" battle_function 耗尽。执行了超过 20 次 battle_function，尝试攻击了超过 20 个敌人。")]),a._v(" "),e("li",[e("code",[a._v("{key} filter switch object does not exist in module/retire/dock.py")]),a._v(" 船坞筛选条件未在 module/retire/dock.py 中定义。")]),a._v(" "),e("li",[e("code",[a._v("No book found.")]),a._v(" 在战术学院，检测不到任何一本技能书。")]),a._v(" "),e("li",[e("code",[a._v("Login failed more than 3")]),a._v(" 游戏登录失败次数超过 3。")]),a._v(" "),e("li",[e("code",[a._v("'No ocr-tool found, please install tesseract by yourself and make sure to set correct env vars.'")]),a._v(" 仅日服，未安装 tesseract。")]),a._v(" "),e("li",[e("code",[a._v("No jpn found in tesseract langs, please install japanese data files.")]),a._v(" 仅日服，tesseract 中未安装 jpn 训练数据。")])]),a._v(" "),e("h2",{attrs:{id:"scriptend"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scriptend"}},[a._v("#")]),a._v(" ScriptEnd")]),a._v(" "),e("p",[a._v("脚本运行结束。")]),a._v(" "),e("h3",{attrs:{id:"raise-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-7"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Reach condition: {self.config.STOP_IF_MAP_REACH}")]),a._v(" 触发用户设置中的停止条件。")]),a._v(" "),e("li",[e("code",[a._v("Campaign name error")]),a._v(" 无法识别关卡名称，无法进入关卡。")])]),a._v(" "),e("h3",{attrs:{id:"catch-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-6"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Script end")]),a._v(" 停止脚本的运行。")])]),a._v(" "),e("h2",{attrs:{id:"gamestuckerror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gamestuckerror"}},[a._v("#")]),a._v(" GameStuckError")]),a._v(" "),e("p",[a._v("游戏卡死。")]),a._v(" "),e("h3",{attrs:{id:"raise-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-8"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Wait too long")]),a._v(" 等待时间过长。超过 60 秒和 60 张截图后无任何操作，或在战斗中超过 300 秒和 300 张截图后无任何操作，抛出。（若识别对象包含"),e("code",[a._v("BATTLE_STATUS_S")]),a._v(" 或 "),e("code",[a._v("PAUSE")]),a._v("，认为在战斗中。）")]),a._v(" "),e("li",[e("code",[a._v("Triggered commission list flashing bug")]),a._v(" 执行委托时，失败次数超过 3，可能触发游戏内的委托列表闪烁 bug，导致无法委托开始。")])]),a._v(" "),e("h3",{attrs:{id:"catch-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-7"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("仅在使用 GUI 运行时，重启游戏。在重启时，若再次发生 GameStuckError，不再捕捉，通常是因为服务器在维护，或者网络连接已断开。")])]),a._v(" "),e("h2",{attrs:{id:"gametoomanyclickerror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gametoomanyclickerror"}},[a._v("#")]),a._v(" GameTooManyClickError")]),a._v(" "),e("p",[a._v("点击游戏内同一按钮， 或者执行相同滑动的次数过多。")]),a._v(" "),e("h3",{attrs:{id:"raise-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-9"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Too many click for a button: {button}")]),a._v(" 点击或滑动某个按钮次数过多。若在最后 15 次点击中，包含 12 次当前点击，则抛出。")])]),a._v(" "),e("h3",{attrs:{id:"catch-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-8"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("仅在登录时，重启游戏，最大次数 3。超过次数后，抛出 "),e("code",[a._v("ScriptError('Login failed more than 3')")])])]),a._v(" "),e("h2",{attrs:{id:"gamenotrunningerror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gamenotrunningerror"}},[a._v("#")]),a._v(" GameNotRunningError")]),a._v(" "),e("p",[a._v("游戏未运行。")]),a._v(" "),e("h3",{attrs:{id:"raise-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-10"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Game not running")]),a._v(" 在无法识别的界面启动 Alas，且游戏未运行。")])]),a._v(" "),e("h3",{attrs:{id:"catch-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-9"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("仅在使用 GUI 运行时，重启游戏。")])]),a._v(" "),e("h2",{attrs:{id:"ascreencaperror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ascreencaperror"}},[a._v("#")]),a._v(" AscreencapError")]),a._v(" "),e("p",[a._v("调用 ascreencap 发生错误。")]),a._v(" "),e("h3",{attrs:{id:"raise-11"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raise-11"}},[a._v("#")]),a._v(" Raise")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("Repositioning byte pointer failed, corrupted aScreenCap data received")]),a._v(" 无法定位 ascreencap 数据中的图片。")]),a._v(" "),e("li",[e("code",[a._v("aScreenCap header verification failure, corrupted image received.")]),a._v(" 接收到的数据有误。")])]),a._v(" "),e("h3",{attrs:{id:"catch-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-10"}},[a._v("#")]),a._v(" Catch")]),a._v(" "),e("ul",[e("li",[a._v("重新安装 ascreencap。")])]),a._v(" "),e("h2",{attrs:{id:"exit-without-error"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exit-without-error"}},[a._v("#")]),a._v(" Exit without error")]),a._v(" "),e("p",[a._v("Alas 停止运行，不报错。通常是用户设置有误或者使用方式不对。")]),a._v(" "),e("ul",[e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Not supported screen size: {width}x{height}\nAlas requires 1280x720\n")])])]),e("p",[a._v("不支持的分辨率，Alas 需要在 1280x720 下运行。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Received a pure black screenshot\nColor: {color}\n")])])]),e("p",[a._v("截图为纯黑色。通常是设备处于锁屏状态，或者当前模拟器不支持当前截图方式。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Map file not found: campaign.{folder}.{name}\n")])])]),e("p",[a._v("未找到地图文件。通常是用户出击未适配的地图，或者运行目录有误。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('Unable to goto page_main\nStarting from current page is not supported\nSupported page: {[str(page) for page in self.ui_pages]}\nSupported page: Any page with a "HOME" button on the upper-right\n')])])]),e("p",[a._v("无法前往游戏主界面，不支持从当前游戏界面启动。Alas可以自动切换到需要的游戏界面, 但是只允许在这些界面下启动：主界面，出击，编队，演习，每日，活动，SP活动，任务领取。共斗活动。Alas也可以在右上角有 “一键回港” 按钮的界面下启动。游戏中大部分界面都有这个按钮，除了主界面本身，后宅，指挥喵。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("UI route too long\n")])])]),e("p",[a._v("寻找到的游戏界面切换路径过长。防止自动切换游戏界面时进入死循环，快速占满内存。已经修复。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Unknown raid mode: {mode}\n")])])]),e("p",[a._v("不支持的共斗活动难度。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Unable to connect %s' % serial\n")])])]),e("p",[a._v("ADB 无法连接至该模拟器。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("No ship retired, exit\nThis may happens because wrong options of one click retirement in game\n")])])]),e("p",[a._v("仅使用一键退役时，未退役任何船只，通常是游戏内的一键退役设置有误。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("No ship retired, exit\nThis may happens because some filters are set in dock\n")])])]),e("p",[a._v("仅使用传统退役时，未退役任何船只，通常是在游戏内的船坞设置了别的筛选条件。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Frame body does not strt with JPEG header\n")])])]),e("p",[a._v("仅使用 minicap 截图时，接收到的数据不是 JPEG 图像。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Mob fleet [{self.FLEET_1}] and boss fleet [{self.FLEET_2}] is the same\nThey should to be set to different fleets\n")])])]),e("p",[a._v("将道中队和 BOSS 队设置为同一队。企图使用骚操作绕过 Alas 必须使用两队的限制，最终也会在 BOSS 出现时报错，所以在保存设置时增加了检查。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("You should use 2 fleets from chapter 7 to 13\nCurrent: mob fleet [{self.FLEET_1}], boss fleet [{self.FLEET_2}]\n")])])]),e("p",[a._v("在 7 到 13 章需要使用两队。解释同上。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Ocr model not prepared: {model_dir}\n")])])]),e("p",[a._v("未找到 OCR 模型，或 OCR 模型不符合要求。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Enemy detection template not found: {name}\n")])])]),e("p",[a._v("未找到精英敌人的识别模板，通常是开发者适配地图时有遗漏，或者命名有误。")])]),a._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("No suitable version of aScreenCap lib is available\nPlease use ADB or uiautomator2 screenshot instead\n")])])]),e("p",[a._v("acreencap 不支持这个模拟器或这个安卓版本，请使用 ADB 或 uiautomator2 截图。")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);