(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{374:function(t,a,s){t.exports=s.p+"assets/img/wiki_7_2.0cf6c85f.jpg"},421:function(t,a,s){"use strict";s.r(a);var n=s(10),p=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_5-2-create-global-map-构造全局地图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-create-global-map-构造全局地图"}},[t._v("#")]),t._v(" 5.2. Create global Map 构造全局地图")]),t._v(" "),a("p",[t._v("这里介绍 "),a("code",[t._v("module/map/map_base.py")]),t._v(" 内 "),a("code",[t._v("CampaignBase")]),t._v(" 类构造的全局地图（Global Map）。")]),t._v(" "),a("h2",{attrs:{id:"创建全局地图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建全局地图"}},[t._v("#")]),t._v(" 创建全局地图")]),t._v(" "),a("p",[t._v("早期，地图信息都是手动编写的，以 7-2 的地图为例：")]),t._v(" "),a("p",[t._v("现在，交由 "),a("code",[t._v("dev_tools/map_extractor.py")]),t._v(" 根据游戏解包数据自动生成就可以了，开发者只需要检查是否有错误，或进行优化。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CampaignMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'7-2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nMAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shape "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'H5'")]),t._v("\nMAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("'''\n    ME ++ ME -- ME ME -- SP\n    MM ++ ++ MM -- -- ME --\n    ME -- ME MB ME -- ME MM\n    -- ME -- MM -- ME ++ ++\n    SP -- ME ME -- ME ++ ++\n'''")]),t._v("\nMAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weight_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("'''\n    40 30 30 30 30 30 30 30\n    20 20 20 10 20 20 20 20\n    10 10 10 10 10 10 10 10\n    20 20 20 10 20 20 20 20\n    30 30 30 30 30 30 30 30\n'''")]),t._v("\nMAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nMAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera_data_spawn_point "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nMAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spawn_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mystery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mystery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mystery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'boss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nA1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H5 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flatten"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"shape"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shape"}},[t._v("#")]),t._v(" shape")]),t._v(" "),a("p",[t._v("地图网格大小，未设置时，根据 map_data 产生")]),t._v(" "),a("h2",{attrs:{id:"map-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#map-data"}},[t._v("#")]),t._v(" map_data")]),t._v(" "),a("p",[t._v("地图中所有网格的信息，以 7-2 为例")]),t._v(" "),a("img",{attrs:{src:s(374),alt:"wiki_7_2"}}),t._v(" "),a("p",[t._v("地图信息定义为")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("'''\n    ME ++ ME -- ME ME -- SP\n    MM ++ ++ MM -- -- ME --\n    ME -- ME MB ME -- ME MM\n    -- ME -- MM -- ME ++ ++\n    SP -- ME ME -- ME ++ ++\n'''")]),t._v("\n")])])]),a("p",[t._v("这些符号的含义，在 "),a("code",[t._v("module.map_detection.grid_info.py")]),t._v(" 中。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("print_name")]),t._v(" "),a("th",[t._v("property_name")]),t._v(" "),a("th",[t._v("description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("++")]),t._v(" "),a("td",[t._v("is_land")]),t._v(" "),a("td",[t._v("fleet can't go to land")])]),t._v(" "),a("tr",[a("td",[t._v("--")]),t._v(" "),a("td",[t._v("is_sea")]),t._v(" "),a("td",[t._v("sea")])]),t._v(" "),a("tr",[a("td",[t._v("__")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("submarine spawn point")])]),t._v(" "),a("tr",[a("td",[t._v("SP")]),t._v(" "),a("td",[t._v("is_spawn_point")]),t._v(" "),a("td",[t._v("fleet may spawns here")])]),t._v(" "),a("tr",[a("td",[t._v("ME")]),t._v(" "),a("td",[t._v("may_enemy")]),t._v(" "),a("td",[t._v("enemy may spawns here")])]),t._v(" "),a("tr",[a("td",[t._v("MB")]),t._v(" "),a("td",[t._v("may_boss")]),t._v(" "),a("td",[t._v("boss may spawns here")])]),t._v(" "),a("tr",[a("td",[t._v("MM")]),t._v(" "),a("td",[t._v("may_mystery")]),t._v(" "),a("td",[t._v("mystery may spawns here")])]),t._v(" "),a("tr",[a("td",[t._v("MA")]),t._v(" "),a("td",[t._v("may_ammo")]),t._v(" "),a("td",[t._v("fleet can get ammo here")])]),t._v(" "),a("tr",[a("td",[t._v("MS")]),t._v(" "),a("td",[t._v("may_siren")]),t._v(" "),a("td",[t._v("Siren/Elite enemy spawn")])])])]),t._v(" "),a("h2",{attrs:{id:"map-data-loop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#map-data-loop"}},[t._v("#")]),t._v(" map_data_loop")]),t._v(" "),a("p",[t._v("周回模式下的地图信息，部分活动图在周回模式前后有变化，需要额外定义。")]),t._v(" "),a("h2",{attrs:{id:"camera-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#camera-data"}},[t._v("#")]),t._v(" camera_data")]),t._v(" "),a("p",[t._v("Alas 会将画面中心对准这些格子，来扫描海域。未定义时，根据 shape 生成。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("MAP.camera_data = ['D4', 'E4', 'E2']\n")])])]),a("ul",[a("li",[t._v("镜头信息需要覆盖到所有会刷怪的格子")]),t._v(" "),a("li",[t._v("镜头信息需要尽可能地少，位置尽可能接近，来加快扫描速度")])]),t._v(" "),a("p",[t._v("在大部分地图中，有效的区域只有 "),a("code",[t._v("(-3, -1, 3, 2)")]),t._v("，也就是镜头中心左右三排以内，往上一行到往下两行的区域。往上第二行，由于地图 buff 会遮挡敌人星级，一般视为无效。但如果刚好那个格子不会刷怪，可以视作有效，从而减少 camera_data")]),t._v(" "),a("h2",{attrs:{id:"camera-data-spawn-point"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#camera-data-spawn-point"}},[t._v("#")]),t._v(" camera_data_spawn_point")]),t._v(" "),a("p",[t._v("在进入地图后的第一次扫描，Alas 会扫描舰队刷新点，来找到己方舰队的位置。由于全图扫描在扫描到所有预期的敌人之后便会停止（早停，early stop），这可能会漏掉舰队刷新点。camera_data_spawn_point 可以强迫 Alas 在第一次扫描时经过这些点。")]),t._v(" "),a("p",[t._v("camera_data_spawn_point 通常是 camera_data 中，可以看到舰队刷新点的格子。")]),t._v(" "),a("h2",{attrs:{id:"spawn-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spawn-data"}},[t._v("#")]),t._v(" spawn_data")]),t._v(" "),a("p",[t._v("定义每一战过后的敌人刷新信息。由于全图扫描具有早停（early stop）的特性，spawn_data 需要尽可能地准确来触发早停。否则 Alas 会经过 camera_data 中所有定义的点。")]),t._v(" "),a("p",[t._v("例如 7-2")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spawn_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mystery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mystery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mystery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enemy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'battle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'boss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"spawn-data-loop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spawn-data-loop"}},[t._v("#")]),t._v(" spawn_data_loop")]),t._v(" "),a("p",[t._v("周回模式下的敌人刷新信息，部分活动图在周回模式前后有变化，需要额外定义。")]),t._v(" "),a("h2",{attrs:{id:"weight-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#weight-data"}},[t._v("#")]),t._v(" weight_data")]),t._v(" "),a("p",[t._v("每个格子的权重，优先选择值权重小的点。默认情况下，Alas 将优先选择权重小的点，权重相同时，再选择距离短的点。")]),t._v(" "),a("p",[t._v("权重需要是 1-99 之间的整数。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weight_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("'''\n    40 30 30 30 30 30 30 30\n    20 20 20 10 20 20 20 20\n    10 10 10 10 10 10 10 10\n    20 20 20 10 20 20 20 20\n    30 30 30 30 30 30 30 30\n'''")]),t._v("\n")])])]),a("h2",{attrs:{id:"wall-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wall-data"}},[t._v("#")]),t._v(" wall_data")]),t._v(" "),a("p",[t._v("穹顶下的圣咏曲（event_20200521_cn）中定义 “光之壁”。“光之壁” 将阻挡舰队从一个格子去往另一个格子。")]),t._v(" "),a("p",[t._v("以 D2 为例，"),a("code",[t._v("·")]),t._v(" 代表格子，用 "),a("code",[t._v("-")]),t._v(" 和 "),a("code",[t._v("|")]),t._v(" 定义 “光之壁”。这将在寻路中断开两个格子之间的连接。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wall_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n    ·   · | ·   ·   ·   ·   ·   ·   ·   ·   · ,\n          +                                   ,\n    ·   ·   ·   ·   ·   ·   ·   ·   ·   · | · ,\n          +       +   +               +   +   ,\n    ·   · | ·   · | · | ·   ·   ·   · | ·   · ,\n          +---+---+   |               |   +   ,\n    ·   ·   · | ·   · | ·   ·   ·   · | · | · ,\n              +---+   +---+       +---+   +-- ,\n    ·   ·   ·   ·   ·   ·   ·   ·   ·   ·   · ,\n                                              ,\n    ·   ·   ·   ·   ·   ·   ·   ·   ·   ·   · ,\n                                              ,\n    ·   ·   ·   ·   ·   ·   ·   ·   ·   ·   · ,\n"""')]),t._v("\n")])])]),a("h2",{attrs:{id:"portal-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#portal-data"}},[t._v("#")]),t._v(" portal_data")]),t._v(" "),a("p",[t._v("蝶海梦花 （event_20200917_cn） 活动中定义 “传送门”。玩家舰队到达至 “传送门” 的一端后，将被移动至另一端，同时镜头重新对准当前舰队。")]),t._v(" "),a("p",[t._v("以 HT5 为例，定义两个传送门之间的连接，这将在寻路中额外连接两个格子。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("portal_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'F3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'G4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'G6'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'F7'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D7'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C6'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"land-based-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#land-based-data"}},[t._v("#")]),t._v(" land_based_data")]),t._v(" "),a("p",[t._v("复刻峡湾间的星辰（event_20200921_en）活动中定义 “岸防炮”。“岸防炮” 会炮击它朝向的三格以内，玩家舰队经过时会被打断，前往岸防炮四周的格子可摧毁岸防炮。")]),t._v(" "),a("p",[t._v("以 SP3 为例，定义岸防炮的位置和朝向。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("land_based_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'H7'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'up'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'left'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'G3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'down'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'right'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"maze-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maze-data"}},[t._v("#")]),t._v(" maze_data")]),t._v(" "),a("p",[t._v("复兴的赞美诗（event_20210421_cn）活动中定义 “迷宫”。“迷宫“ 会产生 ”障碍“ 阻挡玩家移动，玩家舰队每移动 3 次，迷宫改变一次。")]),t._v(" "),a("p",[t._v("以 D2 为例，定义一个循环里，迷宫产生的障碍。障碍将在寻路中，与陆地一样，被Alas视为不可到达的海域。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maze_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I6'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'F9'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'E5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A7'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C9'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'G1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"fortress-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fortress-data"}},[t._v("#")]),t._v(" fortress_data")]),t._v(" "),a("p",[t._v("碧海光粼（event_20210916_cn）活动中定义 “机关”，玩家需要击败所有机关中的敌人，才能解锁被锁定的格子，通往 BOSS 点。")]),t._v(" "),a("p",[t._v("以 D3 为例，定义机关位置和被锁定的格子，机关将被视作精英（siren），在机关未解锁之前，被锁定的格子视作不可到达。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fortress_data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'E2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'H5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'E8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'G3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"展平地图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#展平地图"}},[t._v("#")]),t._v(" 展平地图")]),t._v(" "),a("p",[t._v("这是为后续编写索敌逻辑做的准备")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("A1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\nA5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" C5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" D5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" E5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" F5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" G5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" H5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flatten"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("可以使用以下代码生成")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("shape "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'H5'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("location2node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("chr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("node2location")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nshape "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node2location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    text "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("', '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("location2node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("', \\\\'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'    = MAP.flatten()'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=p.exports}}]);