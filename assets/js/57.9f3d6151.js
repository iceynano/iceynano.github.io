(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{424:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_4-2-ui-control-ui控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-ui-control-ui控制"}},[t._v("#")]),t._v(" 4.2. UI control UI控制")]),t._v(" "),s("p",[t._v("这里介绍操作游戏 UI 的类和方法。")]),t._v(" "),s("h2",{attrs:{id:"switch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#switch"}},[t._v("#")]),t._v(" Switch")]),t._v(" "),s("p",[t._v("操作游戏内的开关。使用场景：三种阵型的切换，周回模式开关等。")]),t._v(" "),s("p",[t._v("以切换普通图困难图为例：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建开关")]),t._v("\nMODE_SWITCH_1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Switch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Mode_switch_1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义状态")]),t._v("\nMODE_SWITCH_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'normal'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" SWITCH_1_NORMAL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sleep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("STAGE_SHOWN_WAIT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nMODE_SWITCH_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hard'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" SWITCH_1_HARD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sleep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("STAGE_SHOWN_WAIT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModuleBase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 判断开关是否出现在画面上")]),t._v("\n        MODE_SWITCH_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appear"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取当前状态")]),t._v("\n        status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MODE_SWITCH_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换至某个状态")]),t._v("\n        MODE_SWITCH_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'normal'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"scroll"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scroll"}},[t._v("#")]),t._v(" Scroll")]),t._v(" "),s("p",[t._v("操作游戏内的滚动条。")]),t._v(" "),s("p",[t._v("以委托列表滚动条为例：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建滚动条")]),t._v("\nCOMMISSION_SCROLL "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Scroll"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("COMMISSION_SCROLL_AREA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" color"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("247")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("211")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("66")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMMISSION_SCROLL'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModuleBase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 判断是否有滚动条")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appear"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取当前位置")]),t._v("\n        posi "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cal_position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 判断是否在顶端或底端")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("at_top"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("at_bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拖拽至指定位置")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拖拽至顶端或底端")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 与直接拖拽至指定位置的区别是，这两个会拖出头，以保证滚动条到达端部")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_top"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 翻页，往下翻0.5页，翻页只是大致准确")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("drag_page"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 往上或往下翻一页，由于翻页只是大致准确，默认翻的是0.8页，以防止漏掉一些内容")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prev_page"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        COMMISSION_SCROLL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next_page"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"navbar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#navbar"}},[t._v("#")]),t._v(" NavBar")]),t._v(" "),s("p",[t._v("操作游戏内的标签页。")]),t._v(" "),s("p",[t._v("以建造页面的左侧边栏为例：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每个标签的 Button 阵列")]),t._v("\ngacha_side_navbar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ButtonGrid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("126")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delta"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("98")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    button_shape"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" grid_shape"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GACHA_SIDE_NAVBAR'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建标签页")]),t._v("\nGACHA "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Navbar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("grids"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gacha_side_navbar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    active_color"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("247")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("173")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    inactive_color"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("140")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("162")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("181")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModuleBase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取标签页的序号")]),t._v("\n        current "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GACHA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_active"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取标签实际出现的个数")]),t._v("\n        total "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GACHA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_total"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换至指定的标签页，上下左右设置一个即可")]),t._v("\n        GACHA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" left"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换至从下往上数的第二个标签")]),t._v("\n        GACHA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#page"}},[t._v("#")]),t._v(" Page")]),t._v(" "),s("p",[t._v("游戏界面类。")]),t._v(" "),s("p",[t._v("以收获界面为例：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建 Page 对象，使用的 check_button 需要是唯一的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果画面中出现了REWARD_CHECK，Alas就认为现在在page_reward界面中")]),t._v("\npage_reward "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Page"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("REWARD_CHECK"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义界面切换")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 点击什么按钮，会到达什么界面")]),t._v("\npage_reward"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("link"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("REWARD_GOTO_MAIN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" destination"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("page_main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npage_main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("link"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("MAIN_GOTO_REWARD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" destination"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("page_reward"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"界面切换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#界面切换"}},[t._v("#")]),t._v(" 界面切换")]),t._v(" "),s("p",[t._v("Alas 的游戏界面切换是自动的，带有寻路的。Alas 可以在绝大多数的游戏界面下启动，并沿着最短路径切换到它需要的游戏界面，与许多脚本都需要在主界面中启动不同。")]),t._v(" "),s("p",[t._v("所有操作游戏界面的方法都包含重试。")]),t._v(" "),s("h3",{attrs:{id:"ui-click"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-click"}},[t._v("#")]),t._v(" ui_click()")]),t._v(" "),s("p",[t._v("点击 UI 上的按钮，切换至下一界面。相当于是封装了：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("device"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screenshot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appear"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("appear_button"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("device"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("click"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("click_button"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appear"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("check_button"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("appear_button")]),t._v(" 如果出现了这个按钮，就点击 click_button")]),t._v(" "),s("li",[s("strong",[t._v("click_button")]),t._v(" 需要点击的按钮，为设置时，等于 appear_button")]),t._v(" "),s("li",[s("strong",[t._v("check_button")]),t._v(" 如果出现了这个按钮，认为界面切换完成")]),t._v(" "),s("li",[s("strong",[t._v("additional")]),t._v(" 点击可能会出现的按钮，例如弹窗确认")])]),t._v(" "),s("h3",{attrs:{id:"ui-get-current-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-get-current-page"}},[t._v("#")]),t._v(" ui_get_current_page()")]),t._v(" "),s("p",[t._v("获取当前界面。"),s("code",[t._v("self.ui_current")]),t._v(" 即是当前界面。")]),t._v(" "),s("p",[t._v("Alas 启动时会调用这个方法，如果游戏未启动，抛出 "),s("code",[t._v("GameNotRunningError")]),t._v("，被顶层捕获后，启动游戏并继续。")]),t._v(" "),s("h3",{attrs:{id:"ui-goto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-goto"}},[t._v("#")]),t._v(" ui_goto()")]),t._v(" "),s("p",[t._v("沿最短路径切换到指定界面，即便歪去别的界面也能自动纠正。")]),t._v(" "),s("h3",{attrs:{id:"ui-ensure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-ensure"}},[t._v("#")]),t._v(" ui_ensure()")]),t._v(" "),s("p",[t._v("相当于 ui_get_current_page() + ui_goto()")]),t._v(" "),s("h3",{attrs:{id:"ui-ensure-index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-ensure-index"}},[t._v("#")]),t._v(" ui_ensure_index()")]),t._v(" "),s("p",[t._v("地图章节翻页，包含重试以防止没翻到或者翻过头。使用场景：设置地图章节，选择队伍，设置猫箱购买数量等。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("index")]),t._v(" 目标数字")]),t._v(" "),s("li",[s("strong",[t._v("letter")]),t._v(" 当前数字，可以是获取当前数字的方法，也可以是 OCR 类")]),t._v(" "),s("li",[s("strong",[t._v("prev_button")]),t._v(" 往前的按钮")]),t._v(" "),s("li",[s("strong",[t._v("next_button")]),t._v(" 往后的按钮")]),t._v(" "),s("li",[s("strong",[t._v("fast")]),t._v(" True则一次性点完，不对再重试。False则点一下识别一下。False用在队伍选择上，因为如果少了一队，数字就不连续了。")])]),t._v(" "),s("h3",{attrs:{id:"ui-goto-main"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-goto-main"}},[t._v("#")]),t._v(" ui_goto_main()")]),t._v(" "),s("p",[t._v("前往主界面")]),t._v(" "),s("h3",{attrs:{id:"ui-back"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-back"}},[t._v("#")]),t._v(" ui_back()")]),t._v(" "),s("p",[t._v("点返回箭头")]),t._v(" "),s("h3",{attrs:{id:"ui-additional"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-additional"}},[t._v("#")]),t._v(" ui_additional()")]),t._v(" "),s("p",[t._v("处理各种可能在界面切换期间出现的弹窗。")])])}),[],!1,null,null,null);s.default=e.exports}}]);